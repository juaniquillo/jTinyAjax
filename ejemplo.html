<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Como usar TinyMCE como un editor AJAX</title>
    <!-- css jquery UI -->
    <link href="js/jquery.ui/css/theme4/theme4.css" rel="stylesheet" type="text/css" />
    <!-- css jTinyMCE -->
    <link href="css/jtinyajax.css" rel="stylesheet" type="text/css" />
    <!-- Scripts -->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js" ></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.9/jquery-ui.min.js" ></script>
    <script type="text/javascript" src="js/jquery.blockUI/jquery.blockUI.min.js"></script>
    <script type="text/javascript" src="js/tiny_mce/tiny_mce.js"></script>
    <script type="text/javascript" src="js/jTinyAjax.jquery.js"></script>
    
</head>
<body>
    
    <h1>Default</h1>
    <div class="jtinymceajax" id="id_1"><p>hola</p></div>
    <h1>Con "tinymceinit()" Personalizado</h1>
    <div class="jtinymceajax2"><p>hola de nuevo</p></div>
    <h1>Usando botones de jQuery UI</h1>
    <div class="jtinymceajax3"><p>hola con jquery UI</p></div>
    <h1>Ejemplo Usando <a href="http://jquery.malsup.com/block/">BlockUI</a> para bloquear elementos mientras se envía el formulario</h1>
    <div id="jtinymceajax4"><p>hola con BlockUI</p></div>
    <h1>Ejemplo usando Callbacks</h1>
    <div id="jtinymceajax5"><p>hola con callbacks</p></div>
    
<script type="text/javascript">
    
    //pagina a donde se enviara
    var pagina = 'prueba.php', pagina2 = 'prueba2.php';
    
    //con opciones defecto
    $('.jtinymceajax').jTinyAjax({
        url: pagina
    });
   
    //con tinymceinit() personalizado
    initTine = {
        mode : "exact",
        theme : "advanced",
        plugins : "spellchecker,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template",
        theme_advanced_buttons1 : "save,newdocument,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect,fontselect,fontsizeselect",
        theme_advanced_buttons2 : "cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview,|,forecolor,backcolor",
        theme_advanced_toolbar_location : "top",
        theme_advanced_statusbar_location : "bottom",
        theme_advanced_resizing : true,
    };
    $('.jtinymceajax2').jTinyAjax({
        url: pagina,
        tinymceinit : initTine
    });
    
    //con botones de jQuery UI
    $('.jtinymceajax3').jTinyAjax({
        url: pagina,
        UIfy: true,
        buttonTextEdit: '<span class="ui-icon ui-icon-circle-check">&nbsp;</span>save',
        buttonTextCancel: '<span class="ui-icon ui-icon-circle-close">&nbsp;</span>cancel'
    });
    
    
    //utilizando BlockUI
    $('#jtinymceajax4').jTinyAjax({
        url: pagina2,
        blockUI: true
    });
    
    
    //usando Callbacks
    
    //quitar el comentario para causar error
    //pagina2 = 'pagina_no_existe.php';
    
    $('#jtinymceajax5').jTinyAjax({
        url: pagina2,
        onClick: function(message){
            alert('onClick, mensaje: ' + message);
        },
        onCancel: function(message){
            alert('onCancel, mensaje: '  + message);
        },
        onSend: function(message){
            alert('onSend, mensaje: '  + message);
        },
        onError: function(message){
            alert('onError, mensaje: '  + message);
        },
        onSuccess: function(message){
            alert('onSuccess, mensaje: '  + message);
        },
        blockUI: true
    });
    
        
</script>
</body>
</html>
